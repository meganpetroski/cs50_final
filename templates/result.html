{% extends "layout.html" %}

{% block title %}
    Result
{% endblock %}

{% block main %}
<br><br><br><br>
<!--resources: https://stackoverflow.com/questions/45877080/how-to-create-dropdown-menu-from-python-list-using-flask-and-html-->
<!--https://stackoverflow.com/questions/23557063/passing-value-from-a-drop-down-menu-to-a-flask-template-->
 <p style="font-size:110%;color:black;font-family:Helvetica;text-align:center;">Please select a run number to view the results below.<br><br></p>
    <form action="/result">
        <div class="form-group">
            <select class="form-control-file" name="runs" type="runs">
                <option disabled selected value="">Build Number</option>
                {% for run in runs %}
                    <option value="{{ run.buildnumber }}">{{ run.buildnumber }}</option>
                {% endfor %}
            </select>
    </div>
    <a href="/result" target="blank"><button class='btn btn-primary' type="submit">Submit & Download</button></a>
</select>
    </div>
    <br><br><br>
    <!--https://gis.stackexchange.com/questions/72458/export-list-of-values-into-csv-or-txt-file-->
        <div class="row">
            <div clas="col-sm-90">
                <table id="3" class="table table-striped DataTable" bgcolor="#c1c1c3" style="width:100%">
                <thead>
                  <tr>
                    <th>Build Number</th>
                    <th>Product</th>
                    <th>Region</th>
                    <th>Table</th>
                    <th>Query</th>
                    <th>Result Text</th>
                    <th>Result Value</th>
                  </tr>
                </thead>

                <tbody>
                    {% for i in htmlcsv %}
                    <tr>
                        <td>{{ i.buildnumber }}</td>
                        <td>{{ i.product }}</td>
                        <td>{{ i.region }}</td>
                        <td>{{ i.attribution }}</td>
                        <td>{{ i.query }}</td>
                        <td>{{ i.result_text }}</td>
                        <td>{{ i.result_count }}</td>
                    </tr>
                {% endfor %}
            </tbody>
            </table>
        </div>
{% endblock %}
